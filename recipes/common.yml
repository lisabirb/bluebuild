modules:
  - type: files
    files:
      - source: system
        destination: / # copies files/system/* (* means everything inside it) into your image's root folder /
  - type: bling
    install:
      - rpmfusion
  - type: dnf
    repos:
      copr:
        - atim/starship
        - ublue-os/packages
        - secureblue/bubblejail
    install:
      packages:
        - neovim
        - iotop
        - flatpak-builder
        - fastfetch
        - fish
        - bubblejail
        - NetworkManager-tui
        - starship
        - btop
    remove:
      auto-remove: true
      packages:
        - firefox
    group-install:
      with-optional: true
      packages:
        - virtualization
        - base-x
  - type: brew
  - type: script
    snippets:
      - "dnf -y install uupd"
      - "systemctl enable uupd.timer"

  #  - type: default-flatpaks
  #    configurations:
  #      - notify: true # Send notification after install/uninstall is finished (true/false)
  #        scope: system
  #        # If no repo information is specified, Flathub will be used by default
  #        install: # system flatpaks we want all users to have and not remove
  #          - org.mozilla.firefox
  #          - org.gnome.Loupe
  #      - scope: user # Also add Flathub user repo, but no user packages

  - type: signing # this sets up the proper policy & signing files for signed images to work fully
